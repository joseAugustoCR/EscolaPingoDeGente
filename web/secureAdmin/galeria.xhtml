<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>

        <meta charset="UTF-8"/>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

        <!-- Bootstrap -->
        <link href="../css/bootstrap.min.css" rel="stylesheet"/>
        <link href='https://fonts.googleapis.com/css?family=Great+Vibes' rel='stylesheet' type='text/css'/>
        <link href='https://fonts.googleapis.com/css?family=Indie+Flower' rel='stylesheet' type='text/css'/>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"/>
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"/>

        <link href="../css/myStyle.css" rel="stylesheet"/>


        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
        <title>Editar Galeria</title>
    </h:head>
    <h:body>
        <div class="visible-lg visible-md">
            <header class="tb-header">
                <div class="container-fluid">
                    <div class="col-md-12" id="col_header">

                        <div class="col-md-2" id="hidden">
                            <div class="tb-img"></div>
                        </div>
                        <div class="col-md-8">
                            <div class="tb-titulo"><a href="index.xhtml" >Escola de Educação Infantil Pingo de Gente</a>
                                <div>Aqui sua criança aprende brincando!</div></div>
                        </div>
                        <div class="col-md-2" id="hidden">
                            <div class="tb-social">
                                <div style="margin-top: 20px" class="wow bounceInRight" >
                                    <a href="https://www.facebook.com/educacaoinfantil.pingodegente?fref=ts"> <i class="fa fa-facebook-official fa-3x"  ></i> </a>
                                    <a href="https://www.youtube.com/?gl=BR"> <i class="fa fa-youtube-play fa-3x"  ></i> </a>
                                </div>
                                <address class="endereco_contato_header">
                                    <div > <i class="fa fa-phone"></i> <strong> <h:outputText value="#{contatoBD.fone1}" /> </strong></div> 
                                    <div > <i class="fa fa-phone"></i> <strong> <h:outputText value="#{contatoBD.fone2}" /> </strong></div>
                                </address>

                            </div>
                        </div>

                    </div>
                </div>
            </header>
        </div>

        <nav class="navbar navbar-inverse">
            <div class="container-fluid">

                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" >
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>


                </div>

                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Início<strong class="caret"></strong></a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="index.xhtml">Geral</a>
                                </li>
                                <li>
                                    <a href="carousel.xhtml">Editar Carousel</a>
                                </li>
                                <li>
                                    <a href="logo.xhtml">Alterar Logo</a>
                                </li>
                            </ul>
                        </li>
                        <li><a href="sobre.xhtml">A escola</a></li>
                        <li class="dropdown" id="active">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Galeria de Fotos<span class="sr-only">(current)</span><strong class="caret"></strong></a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="novaImagem.xhtml">Inserir imagens</a>
                                </li>
                                <li>
                                    <a href="galeria.xhtml">Editar imagens</a>
                                </li>    
                            </ul>

                        </li>



                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Notícias<strong class="caret"></strong></a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="novaNoticia.xhtml">Nova notícia</a>
                                </li>
                                <li>
                                    <a href="noticias.xhtml">Editar notícias</a>
                                </li>    
                            </ul>

                        </li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Calendário<strong class="caret"></strong></a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="calendario.xhtml">Inserir Eventos</a>
                                </li>
                                <li>
                                    <a href="eventos.xhtml">Editar Eventos</a>
                                </li>    
                            </ul>
                        
                        </li>
                        <li><a href="contato.xhtml">Contato</a></li>  


                    </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <h:form class="navbar-form navbar-left">

                            <!--<button type="submit" class="btn btn-default">Pesquisar</button>-->
                            <h:commandButton action="#{authBackingBean.logout}" value="Logout" class="btn btn-default" />
                        </h:form>

                    </ul>
                </div><!-- /.navbar-collapse -->
                <!-- /.container-fluid -->
            </div>  
        </nav>



        <div class="container-fluid" id="content">

            <fieldset>
                <legend class="titulo">Exclua imagens da galeria</legend>
            </fieldset>
            <br/>
            <h:form prependId="false">
                <div class="select_album">
                    <p:outputLabel for="selecionaAlbum" value="Selecione um álbum:  " />
                    <p:selectOneMenu id="selecionaAlbum"  value="#{galeriaBD.albumId_excluirFotos}" style="width: 200px; padding:0; margin-left: 10px;margin-right: 0px;">
                        <p:ajax update="imagensExcluir" listener="#{galeriaBD.stateChangeListenerExcluir}" />
                        <f:selectItem itemLabel="--- Ver todas as fotos ---" itemValue="0" />

                        <f:selectItems value="#{albumBD.albuns}" var="album"
                                       itemValue="#{album.id}" itemLabel="#{album.titulo}" />

                    </p:selectOneMenu>


                </div>
                <br/>
                <br/>
                <br/>
                <br/>

                <p:dataTable  id="imagensExcluir" value="#{galeriaBD.idsParaExcluir}" var="id" paginator="true" rows="8" emptyMessage="Não foram encontradas imagens." style="margin: 0 auto;width:50%;">

                    <p:column colspan="2">

                        <p:graphicImage class="img-responsive" value="#{galeriaBD.imagem}" id="imagem_editaGaleria" style="max-height: 300px;max-width: 300px;">
                            <f:param name="imagemId" value="#{id}" />
                        </p:graphicImage>

                    </p:column >
                    <p:column>
                        <div class="botao_apagaImagem">

                            <p:commandButton value="x" action="#{galeriaBD.excluir}" class="btn-danger btn-sm" update="imagensExcluir">
                                <f:param name="imagemId" value="#{id}" />
                                <p:confirm header="Confirmação" message="Tem certeza que deseja excluir essa foto?" icon="ui-icon-alert" />

                            </p:commandButton>
                            <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                                <p:commandButton value="Sim" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                                <p:commandButton value="Não" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                            </p:confirmDialog>

                        </div>
                    </p:column>

                </p:dataTable>
            </h:form>
            <br/>
            <br/>
            <br/>
            <br/>






        </div>


    </h:body>
</html>
