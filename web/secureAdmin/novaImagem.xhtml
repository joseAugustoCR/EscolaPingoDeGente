<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>

        <meta charset="UTF-8"/>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

        <!-- Bootstrap -->
        <link href="../css/bootstrap.min.css" rel="stylesheet"/>
        <link href='https://fonts.googleapis.com/css?family=Great+Vibes' rel='stylesheet' type='text/css'/>
        <link href='https://fonts.googleapis.com/css?family=Indie+Flower' rel='stylesheet' type='text/css'/>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"/>
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"/>

        <link href="../css/myStyle.css" rel="stylesheet"/>















        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
        <title>Pingo de Gente</title>
    </h:head>
    <h:body>
        <div class="visible-lg visible-md">
            <header class="tb-header">
                <div class="container-fluid">
                    <div class="col-md-12" id="col_header">

                        <div class="col-md-2" id="hidden">
                            <div class="tb-img"></div>
                        </div>
                        <div class="col-md-8">
                            <div class="tb-titulo"><a href="index.xhtml" >Escola de Educação Infantil Pingo de Gente</a>
                                <div>Aqui sua criança aprende brincando!</div></div>
                        </div>
                        <div class="col-md-2" id="hidden">
                            <div class="tb-social">
                                <div style="margin-top: 20px" class="wow bounceInRight" >
                                    <a href="https://www.facebook.com/educacaoinfantil.pingodegente?fref=ts"> <i class="fa fa-facebook-official fa-3x"  ></i> </a>
                                    <a href="https://www.youtube.com/?gl=BR"> <i class="fa fa-youtube-play fa-3x"  ></i> </a>
                                </div>
                                <address class="endereco_contato_header">

                                    <div class="wow swing" data-wow-duration="3s" data-wow-delay="0.5s"> <i class="fa fa-phone"></i> <strong> 054 3015-1155 </strong></div> 
                                </address>

                            </div>
                        </div>

                    </div>
                </div>
            </header>
        </div>

        <nav class="navbar navbar-inverse">
            <div class="container-fluid">

                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" >
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>


                </div>

                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Início<span class="sr-only">(current)</span><strong class="caret"></strong></a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="index.xhtml">Geral</a>
                                </li>
                                <li>
                                    <a href="carousel.xhtml">Carousel</a>
                                </li>    
                            </ul>
                        </li>
                        <li><a href="sobre.xhtml">A escola</a></li>
                        <li class="dropdown" id="active">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Galeria de Fotos<span class="sr-only">(current)</span><strong class="caret"></strong></a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="novaImagem.xhtml">Inserir imagens</a>
                                </li>
                                <li>
                                    <a href="galeria.xhtml">Editar imagens</a>
                                </li>    
                            </ul>

                        </li>

                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Notícias<span class="sr-only">(current)</span><strong class="caret"></strong></a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="novaNoticia.xhtml">Nova notícia</a>
                                </li>
                                <li>
                                    <a href="noticias.xhtml">Editar notícias</a>
                                </li>    
                            </ul>

                        </li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Calendário<strong class="caret"></strong></a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="calendario.xhtml">Inserir Eventos</a>
                                </li>
                                <li>
                                    <a href="eventos.xhtml">Editar Eventos</a>
                                </li>    
                            </ul>
                        
                        </li>
                        <li><a href="contato.xhtml">Contato</a></li>  


                    </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <h:form class="navbar-form navbar-left">

                            <!--<button type="submit" class="btn btn-default">Pesquisar</button>-->
                            <h:commandButton action="#{authBackingBean.logout}" value="Logout" class="btn btn-default" />
                        </h:form>

                    </ul>
                </div><!-- /.navbar-collapse -->
                <!-- /.container-fluid -->
            </div>  
        </nav>



        <div class="container-fluid" id="content">

            <fieldset>
                <legend class="titulo">Adicione imagens à galeria!</legend>
            </fieldset>







            <h:form prependId="false" id="myForm">
                <p:panel>
                    <div class="select_album" id="select_album">
                        <p:outputLabel for="selecionaAlbum" value="Selecione um álbum:  " />
                        <p:selectOneMenu id="selecionaAlbum" value="#{fileUpload.albumId}" style="width: 200px; padding:0; margin-left: 10px;margin-right: 0px;">
                            <p:ajax listener="#{albumBD.setIdExcluir(fileUpload.albumId)}" />
                            <f:selectItem itemLabel="--- Selecione um álbum para inserir fotos ---" itemValue="0" />
                            <f:selectItems value="#{albumBD.albuns}" var="album"
                                           itemValue="#{album.id}" itemLabel="#{album.titulo}" />

                        </p:selectOneMenu>
                    </div>


                    <p:commandButton value="Excluir Álbum" class="btn-sm btn-danger" action="#{albumBD.excluir}" style="margin-right: 7px;" update="selecionaAlbum">          
                        <p:confirm header="Confirmação" message="Tem certeza que deseja excluir esse álbum?" icon="ui-icon-alert"/>
                    </p:commandButton>

                    <p:commandButton value="Novo Álbum" class="btn-primary btn-sm" action="#{albumBD.mostraNovoAlbum}"  update="novoAlbum">   
                    </p:commandButton>
                </p:panel>

                <br/>
                <br/>

                <p:panel id="novoAlbum" styleClass="semBorda">
                    <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />
                    <p:panel header="Informações do novo álbum" styleClass="semBorda" rendered="#{albumBD.novoAlbum}">
                        <p:panelGrid style="margin-bottom:20px;" styleClass="semBorda" rendered="#{albumBD.novoAlbum}" columns="2">

                            <h:outputLabel for="tituloAlbum" value="Título:" rendered="#{albumBD.novoAlbum}"/>
                            <h:inputText id="tituloAlbum" value="#{albumBD.titulo}" class="input" rendered="#{albumBD.novoAlbum}" style="width:260px;"/>

                            <h:outputLabel for="descricaoAlbum" value="Descrição" rendered="#{albumBD.novoAlbum}"/>
                            <h:inputTextarea id="descricaoAlbum" value="#{albumBD.descricao}" class="input" rendered="#{albumBD.novoAlbum}" rows="3" style="width:260px;"/>

                        </p:panelGrid>

                        <p:commandButton value="Salvar" class="btn btn-primary btn-sm" style="margin-right: 10px;" process="tituloAlbum descricaoAlbum @this" 
                                         actionListener="#{albumBD.insere}" update="selecionaAlbum novoAlbum">
                            <p:ajax />        
                        </p:commandButton>


                        <p:commandButton value="Cancelar" class="btn btn-danger btn-sm" 
                                         action="#{albumBD.escondeNovoAlbum}" update="novoAlbum">

                        </p:commandButton>

                        <p:separator rendered="#{albumBD.novoAlbum}"/>
                    </p:panel>
                </p:panel>
            </h:form>


            <h:form prependId="false">
                <p:confirmDialog global="true" showEffect="fade" hideEffect="fade" severity="alert">

                    <p:commandButton value="Sim" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check">
                        <f:ajax render="selecionaAlbum"/>
                    </p:commandButton>

                    <p:commandButton value="Não" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close"/>  

                </p:confirmDialog>
            </h:form>



            <h:form enctype="multipart/form-data">
                <p:fileUpload fileUploadListener="#{fileUpload.handleFileUpload}" mode="advanced" dragDropSupport="true"
                              multiple="true" update="messages" sizeLimit="10000000" label="Escolher imagens" allowTypes="/(\.|\/)(gif|jpe?g|png)$/"/>

                <p:growl id="messages" showDetail="true" />
            </h:form>





        </div>
    </h:body>
</html>
